import ape
from ape import chain, networks
import math
import matplotlib.pyplot as plt
from matplotlib.ticker import ScalarFormatter


# fork eth mainnet
ape.networks.parse_network_choice('ethereum:mainnet-fork').__enter__()


# contract addresses 
price_oracle_contract = ape.Contract('0xc1793A29609ffFF81f10139fa0A7A444c9e106Ad')
TRICRYPTO = ["0x7F86Bf177Dd4F3494b841a37e810A34dD56c829B", "0xf5f5B97624542D72A9E06f04804Bf81baA15e2B4"]
STABLESWAP = ["0x4DEcE678ceceb27446b35C672dC7d61F30bAD69E", "0x390f3595bCa2Df7d23783dFd126427CCeb997BF4"]
STAKEDSWAP = ape.Contract("0x21E27a5E5513D6e65C4f830167390997aA84843a")
WSTETH = ape.Contract("0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0")
stable_agg = ape.Contract("0x18672b1b0c623a30089A280Ed9256379fb0E4E62")


N_POOLS = price_oracle_contract.N_POOLS()
block = chain.provider.get_block("latest").number


p_eth_usdc = []
p_eth_usdt = []
p_eth_chainlink = []
blocks = []

# get eth/usdc from tricrypto ("0x7F86Bf177Dd4F3494b841a37e810A34dD56c829B") at a specific block range
triUSDC = ape.Contract(TRICRYPTO[0])
triUSDT = ape.Contract(TRICRYPTO[1])
chainlink = ape.Contract("0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419")

for i in range(18015000, 18041877, 60):
    x = triUSDC.price_oracle(1, block_id=i) / 1e18
    # y = triUSDT.price_oracle(1, block_id=i) / 1e18
    print(x)
    # print(y)
    blocks.append(i)
    p_eth_usdc.append(x)
    # p_eth_usdt.append(y)

print("------")

# get eth/usd chainlink price
for i in range(18015000, 18041877, 60):
    x = chainlink.latestRoundData(block_id=i)[1] / 1e8
    print(x)
    p_eth_chainlink.append(x)


t = [1648.0032151774137, 1647.9186538909378, 1649.0049339268567, 1649.4801537763815, 1645.8384106439225, 1644.6397545749714, 1645.2083618786899, 1645.7364290873338, 1645.259333700112, 1644.9109834488813, 1645.8632370864239, 1646.271776605167, 1646.215626103472, 1645.7825718211695, 1645.59418580387, 1646.855726659113, 1646.3508899741332, 1646.0879543314857, 1646.20750296123, 1646.9738381805341, 1647.7922514088993, 1648.5533725406642, 1649.3274566367984, 1650.5600901998437, 1652.7586259278673, 1653.5809262437222, 1653.5374096419218, 1653.518479176078, 1653.5102440997568, 1653.0923452643444, 1652.3912995657374, 1653.3479387239115, 1653.8634822698166, 1655.3356895058487, 1657.041755225162, 1657.7241488881148, 1657.1822744482947, 1655.50541633811, 1654.7759543887332, 1653.4966031163083, 1652.8303216099575, 1652.5374031435756, 1652.4130532211163, 1651.9489832698887, 1651.1293306242187, 1650.765255089668, 1650.611209938064, 1650.546031406466, 1650.8641423589468, 1651.003994015419, 1651.0639937110652, 1650.2798917435762, 1649.662215440386, 1649.3957436577566, 1649.4728717089856, 1649.400242227912, 1649.3973962276489, 1649.2525778686422, 1648.70429639983, 1647.5528953948924, 1646.8128916166838, 1646.4013520488534, 1645.9864213882902, 1645.8040047196773, 1647.3530652710783, 1646.7653044848576, 1646.311717344157, 1646.168470945304, 1646.1076598984284, 1646.0806486827448, 1646.069219881795, 1645.916094387375, 1645.8122237548112, 1645.7691816014124, 1645.7502589066605, 1645.7422258329723, 1645.626959336099, 1645.2401848119666, 1643.5326923251375, 1642.5786191808793, 1641.6430301562107, 1641.7737615354367, 1643.018776535826, 1643.5312986414235, 1643.340016786808, 1641.8649171914756, 1640.9628689131443, 1640.5718625071227, 1640.4081176182929, 1640.857412591471, 1642.2358605668503, 1643.1524098464795, 1643.7519640021471, 1643.363212302676, 1643.075623701628, 1644.8302956452321, 1645.6182128551127, 1648.9253131556393, 1669.1524599578709, 1694.7088070794628, 1709.7616047056963, 1715.0426496874634, 1717.7556357731432, 1716.9461907482582, 1718.9426808208607, 1720.1815189989643, 1718.8266830571893, 1718.7070886916918, 1727.8002893096773, 1731.5571896008848, 1732.4783123116335, 1733.9361117113394, 1734.7811566104695, 1735.1487655904343, 1735.8144404227708, 1735.5741663593485, 1734.8291245707212, 1734.5624278935288, 1734.446410278887, 1734.7319728262416, 1736.137643718341, 1736.7556211918666, 1737.0179653583634, 1737.1320895564327, 1737.4092012390947, 1738.2103322929083, 1738.5625348940869, 1739.0655956815901, 1739.4746730745194, 1737.37587534576, 1734.6709652887214, 1732.2411145705526, 1730.783947545255, 1729.8260939912495, 1729.4151519748036, 1729.2406986243152, 1729.1648084339945, 1730.1821006302325, 1730.1037755729428, 1729.5555932874277, 1729.272958547554, 1729.1529742788198, 1728.3278704346633, 1727.3336418601543, 1727.974389859408, 1729.4698619558453, 1730.2889703488083, 1730.64529650512, 1730.8019487763352, 1730.8684508921604, 1728.503110092501, 1725.8919641025877, 1721.7290850581362, 1719.584030778787, 1718.1074988474209, 1716.9294292636034, 1716.4061511216582, 1716.3839542095334, 1715.5997808484926, 1716.7541416521187, 1717.2563083393197, 1717.477076729979, 1717.3750140547697, 1716.1241072790267, 1716.2826949060843, 1716.4431220688334, 1716.8986069536384, 1717.4004253602661, 1717.615717423491, 1717.7071133388758, 1717.7472938798528, 1717.764532290111, 1717.771850350339, 1717.7750338316646, 1717.7764187004734, 1717.7770275326918, 1717.7772887362325, 1717.7773996225155, 1717.7774493739782, 1717.7774695026817, 1717.7774782590118, 1717.7774820681652, 1717.7774837427894, 1717.7774844537023, 1717.7774847629614, 1717.7774849003288, 1717.7774849578554, 1717.7774849822765, 1717.8730987849383, 1718.6251915473017, 1718.9558353614084, 1719.0962004710364, 1717.759241541534, 1714.7379146565015, 1714.3386926478354, 1714.222037469924, 1714.1712904729259, 1714.1347068783964, 1715.308590352087, 1716.1529562270496, 1716.5280089507949, 1716.6898836186913, 1716.7545208808633, 1716.7828219877792, 1716.7942721954512, 1716.267658303343, 1715.6087085150587, 1716.507949507552, 1717.082816549603, 1716.753167238394, 1717.217499270872, 1717.6389312834629, 1718.6793405943488, 1717.5799097216832, 1716.840004636061, 1717.5744032163407, 1717.775051638857, 1716.2699704917102, 1714.3014219899887, 1709.996815270533, 1705.8197177989086, 1703.8756018208276, 1703.403075768385, 1703.9349896711512, 1704.6279696019183, 1704.9326255418162, 1703.920008201911, 1701.657071015003, 1700.8226228511398, 1699.7800377588346, 1699.343426037374, 1699.742585140297, 1700.9136334572595, 1701.4461175460767, 1701.672168009788, 1701.6125698433098, 1700.7803840769325, 1699.5639841922055, 1698.948860451263, 1699.2052406475925, 1700.8314449210757, 1701.5535319913538, 1701.8633245639953, 1701.9948378921317, 1702.0526553191792, 1702.3603772566742, 1702.500245531048, 1702.5610906219126, 1702.587559276787, 1703.220287981653, 1703.9050601653757, 1704.2061077195478, 1704.3137237220278, 1704.3592734279423, 1704.4176398489014, 1704.443030239986, 1704.4541926605943, 1704.460796510997, 1703.5904382027895, 1702.3972689974203, 1702.1315404056847, 1703.044192216438, 1703.431631708735, 1703.603725632923, 1703.5519982468688, 1703.6288179669925, 1703.7194030474416, 1703.7766639333088, 1703.1309585264905, 1702.818740788072, 1702.6814799752726, 1702.2467544654096, 1701.8948264732328, 1701.7417317792604, 1701.317179849031, 1700.5213765015392, 1700.1835415887197, 1700.0350186541789, 1699.9706391522814, 1699.943961425112, 1699.9323561576496, 1699.9273076678726, 1699.925111488499, 1699.924145978444, 1699.9237360995378, 1699.9235577952059, 1699.9234802297722, 1700.3467270974572, 1700.8295650999873, 1701.0396078868039, 1701.1309800904467, 1701.1711502069902, 1701.1883841449178, 1701.9544985553662, 1702.3524310757814, 1702.5273748232703, 1702.6024298628188, 1702.6342922730846, 1702.6481529663438, 1703.2327353101757, 1703.5528949325205, 1703.6921698424303, 1703.75339950681, 1703.8359522420972, 1704.0217571886524, 1704.8025855098886, 1705.5462631975947, 1706.060467197719, 1706.2274000398388, 1706.2601687782, 1705.5762960815657, 1705.2787997654593, 1705.1902296936887, 1705.3074645695228, 1705.3584637450292, 1705.3806492583744, 1705.3903003360144, 1705.3944987198051, 1705.3963444623773, 1705.3971280181172, 1705.3974688782616, 1708.9422369508395, 1711.1218029213949, 1714.5053229130865, 1713.305062073935, 1710.7089598283649, 1709.9109497633199, 1709.5685844154, 1709.4232432732301, 1708.8523694499345, 1707.873852653321, 1707.4436656577925, 1707.2610424172792, 1705.331710135562, 1703.426869027594, 1702.3534683177875, 1701.3047432464366, 1701.117376450163, 1701.378166770334, 1702.371176567959, 1702.6057636837625, 1702.4918377754582, 1700.5800263688243, 1692.2889808152102, 1689.4984042216872, 1688.1154211628307, 1684.6597517022205, 1677.3058356906208, 1670.2348759424628, 1661.5892111804385, 1656.9498556195626, 1655.763197256833, 1656.6311019138784, 1657.7959837799986, 1658.1471018807463, 1660.252541454578, 1661.1364112248482, 1660.8213437410157, 1659.3484298828037, 1658.2252493492392, 1655.7734492319757, 1654.298993959193, 1653.644066418306, 1655.0800480636922, 1654.6171477825749, 1653.728839029402, 1653.334267638867, 1653.167319289128, 1652.6183708601632, 1650.1290719443248, 1643.8284155475098, 1642.021681682715, 1641.2465497698304, 1642.970316105482, 1644.3078512322686, 1645.3335371801234, 1646.5048344102731, 1647.0062209529399, 1647.227922986725, 1647.3253902270897, 1647.3672059974917, 1647.3851459601678, 1647.3927618438481, 1646.903441858574, 1646.370531248162, 1646.936625303141, 1648.4479621980774, 1649.0895558402142, 1649.6562690553587, 1650.869627179393, 1651.2839685843603, 1651.272504031214, 1651.2674638503095, 1651.265301492509, 1651.264373789447, 1651.2639757827108, 1651.2638068206531, 1651.5109442228693, 1652.0847409722235, 1651.7630514332975, 1650.9808423394777, 1650.6405680092091, 1650.4220460376266, 1650.2416982484513, 1650.2574325740236, 1650.3270483601063, 1650.4101382861145, 1650.44456928218, 1650.4595473541806, 1650.4818120315122, 1651.1171182622568, 1651.404232151834, 1650.491913952346, 1649.9073152524945, 1649.6503071365898, 1649.5389030996528, 1649.4343075417387, 1648.2408153506233, 1647.7216258407834, 1647.1979203592032, 1646.9259434135124, 1646.8132409765633, 1646.774390992772, 1646.7669334952695, 1646.769729033787, 1646.7767986858646, 1646.601148113088, 1645.9829761839871, 1645.7140608251304, 1645.9832788475103, 1646.4227067055176, 1646.6115561635543, 1646.6925770845146, 1646.7269721343157, 1646.7419345690769, 1646.7484434840303, 1646.6861255071901, 1645.7137232793232, 1644.9504445944142, 1644.6044438673414, 1644.4610672843437, 1644.4307336700733, 1645.4138349290156, 1646.190030736926, 1646.5195418453204, 1647.857186238745, 1647.8911822797431, 1646.62518957219]
c = [1649.2635, 1649.5113, 1649.5113, 1649.5113, 1640.1685, 1640.1685, 1645.53, 1645.53, 1645.53, 1645.53, 1645.53, 1645.94, 1645.94, 1645.94, 1645.94, 1645.94, 1646.14, 1646.14, 1646.14, 1646.14, 1646.14, 1649.48, 1649.48, 1649.48, 1649.48, 1649.48, 1653.36747, 1653.36747, 1653.27814692, 1653.27814692, 1653.27814692, 1655.99, 1655.99, 1655.99, 1655.99, 1655.99, 1654.75, 1655.17, 1655.17, 1655.17, 1655.17, 1651.57502258, 1651.57502258, 1651.57502258, 1651.57502258, 1651.57502258, 1651.933, 1651.933, 1651.933, 1651.933, 1651.933, 1649.701604, 1649.701604, 1649.701604, 1649.701604, 1649.701604, 1650.54095, 1650.54095, 1650.54095, 1650.54095, 1650.54095, 1646.36168, 1646.36168, 1646.36168, 1646.36168, 1646.36168, 1646.4, 1646.4, 1646.4, 1646.4, 1646.4, 1645.72, 1645.72, 1645.72, 1645.72, 1645.72, 1644.62, 1644.62, 1644.62, 1644.62, 1644.62, 1641.7427, 1641.7427, 1641.7427, 1641.7427, 1641.7427, 1641.89, 1641.89, 1641.89, 1641.89, 1641.89, 1642.4, 1642.4, 1642.4, 1642.4, 1642.4, 1653.047119, 1653.047119, 1698.66716026, 1730.7156, 1720.8807305, 1715.5022, 1715.5022, 1715.5022, 1715.5022, 1715.5022, 1715.4, 1727.7066, 1737.75, 1727.1315815, 1732.17, 1732.17, 1732.17, 1732.17, 1742.71258863, 1732.8661, 1732.8661, 1732.8661, 1732.8661, 1732.8661, 1737.4309, 1737.4309, 1737.4309, 1737.4309, 1737.4309, 1737.19, 1737.19, 1737.19, 1737.19, 1737.19, 1726.81, 1726.81, 1726.81, 1726.81, 1726.81, 1732.19, 1732.19, 1732.19, 1732.19, 1732.19, 1729.2024, 1729.2024, 1729.2024, 1729.2024, 1729.2024, 1728.05, 1728.05, 1728.05, 1728.05, 1728.05, 1723.1, 1723.1, 1723.1, 1723.1, 1723.1, 1719.6657, 1719.6657, 1719.6657, 1719.6657, 1719.6657, 1718.40088097, 1718.40088097, 1718.40088097, 1718.40088097, 1718.40088097, 1718.49039016, 1718.49039016, 1718.49039016, 1718.49039016, 1718.49039016, 1719.39930582, 1719.39930582, 1719.39930582, 1719.39930582, 1719.39930582, 1720.2984, 1720.2984, 1720.2984, 1720.2984, 1720.2984, 1716.87, 1716.87, 1716.87, 1716.87, 1716.87, 1717.14519, 1717.14519, 1717.14519, 1717.14519, 1717.14519, 1717.95, 1718.0, 1718.0, 1718.0, 1718.0, 1716.0, 1716.0, 1716.0, 1716.0, 1716.0, 1719.79129851, 1719.79129851, 1719.79129851, 1719.79129851, 1719.79129851, 1717.94, 1717.94, 1717.94, 1717.94, 1717.94, 1717.80095955, 1717.80095955, 1717.80095955, 1717.80095955, 1717.80095955, 1719.03, 1719.03, 1719.03, 1710.24787957, 1700.3, 1705.17135321, 1705.17135321, 1705.17135321, 1705.17135321, 1705.17135321, 1703.55269918, 1703.55269918, 1703.55269918, 1703.55269918, 1698.63364457, 1698.63364457, 1698.63364457, 1698.63364457, 1698.63364457, 1701.22290861, 1701.22290861, 1701.22290861, 1701.22290861, 1701.22290861, 1702.19, 1702.19, 1702.19, 1702.19, 1702.19, 1704.0861, 1704.0861, 1704.0861, 1704.0861, 1704.0861, 1703.48, 1703.48, 1703.48, 1703.48, 1703.48, 1705.16662002, 1705.16662002, 1705.16662002, 1705.16662002, 1705.16662002, 1702.5724, 1702.5724, 1702.5724, 1702.5724, 1702.5724, 1704.9717649, 1704.9717649, 1704.9717649, 1704.9717649, 1704.9717649, 1700.33785224, 1700.33785224, 1700.33785224, 1700.33785224, 1700.33785224, 1700.52049, 1700.52049, 1700.52049, 1700.52049, 1700.52049, 1700.3, 1700.3, 1700.3, 1700.3, 1700.3, 1698.79, 1698.79, 1698.79, 1698.79, 1698.79, 1701.934091, 1701.934091, 1701.934091, 1701.934091, 1701.934091, 1703.78504901, 1703.78504901, 1703.78504901, 1703.78504901, 1703.78504901, 1705.84755476, 1705.84755476, 1705.84755476, 1705.84755476, 1705.84755476, 1706.2, 1706.2, 1706.2, 1706.2, 1706.2, 1705.805, 1705.805, 1705.805, 1705.805, 1705.805, 1703.96, 1703.96, 1703.96, 1703.96, 1703.96, 1704.72, 1704.72, 1713.35, 1713.35, 1713.35, 1715.08919, 1715.08919, 1715.08919, 1715.08919, 1715.08919, 1709.88219015, 1709.88219015, 1709.88219015, 1709.88219015, 1700.894516, 1701.98078722, 1701.98078722, 1701.98078722, 1701.98078722, 1701.98078722, 1703.94, 1703.94, 1703.94, 1694.83684847, 1681.4, 1686.9261, 1686.9261, 1686.9261, 1667.2746, 1667.2746, 1651.1407, 1651.1407, 1659.41, 1659.41, 1659.41, 1658.62951902, 1658.62951902, 1658.62951902, 1658.62951902, 1658.62951902, 1658.56, 1646.6415, 1655.50407, 1655.50407, 1657.07618712, 1657.07618712, 1657.07618712, 1657.07618712, 1657.07618712, 1650.92, 1640.5402, 1640.5402, 1640.5402, 1640.5402, 1647.5597035, 1647.5597035, 1647.5597035, 1647.5597035, 1647.5597035, 1647.82241616, 1647.82241616, 1647.82241616, 1647.82241616, 1647.82241616, 1645.665, 1645.665, 1645.665, 1645.665, 1645.665, 1652.8311, 1652.65, 1652.65, 1652.65, 1652.65, 1650.18264211, 1650.18264211, 1650.18264211, 1650.18264211, 1650.18264211, 1650.16453836, 1650.16453836, 1650.16453836, 1650.16453836, 1650.16453836, 1652.12886189, 1652.12886189, 1652.12886189, 1652.12886189, 1652.12886189, 1650.26, 1650.26, 1650.26, 1650.26, 1650.26, 1648.4132, 1648.4132, 1648.4132, 1648.4132, 1648.4132, 1644.39, 1644.39, 1644.39, 1644.39, 1644.39, 1645.7977, 1645.7977, 1645.7977, 1645.7977, 1645.7977, 1644.01003607, 1644.01003607, 1644.01003607, 1644.01003607, 1644.01003607, 1644.64, 1644.64, 1644.64, 1644.64, 1644.64, 1642.3382, 1642.3382, 1642.3382, 1642.3382, 1642.3382, 1646.74, 1646.74, 1646.74, 1646.74, 1646.74]
i = [18015000, 18015060, 18015120, 18015180, 18015240, 18015300, 18015360, 18015420, 18015480, 18015540, 18015600, 18015660, 18015720, 18015780, 18015840, 18015900, 18015960, 18016020, 18016080, 18016140, 18016200, 18016260, 18016320, 18016380, 18016440, 18016500, 18016560, 18016620, 18016680, 18016740, 18016800, 18016860, 18016920, 18016980, 18017040, 18017100, 18017160, 18017220, 18017280, 18017340, 18017400, 18017460, 18017520, 18017580, 18017640, 18017700, 18017760, 18017820, 18017880, 18017940, 18018000, 18018060, 18018120, 18018180, 18018240, 18018300, 18018360, 18018420, 18018480, 18018540, 18018600, 18018660, 18018720, 18018780, 18018840, 18018900, 18018960, 18019020, 18019080, 18019140, 18019200, 18019260, 18019320, 18019380, 18019440, 18019500, 18019560, 18019620, 18019680, 18019740, 18019800, 18019860, 18019920, 18019980, 18020040, 18020100, 18020160, 18020220, 18020280, 18020340, 18020400, 18020460, 18020520, 18020580, 18020640, 18020700, 18020760, 18020820, 18020880, 18020940, 18021000, 18021060, 18021120, 18021180, 18021240, 18021300, 18021360, 18021420, 18021480, 18021540, 18021600, 18021660, 18021720, 18021780, 18021840, 18021900, 18021960, 18022020, 18022080, 18022140, 18022200, 18022260, 18022320, 18022380, 18022440, 18022500, 18022560, 18022620, 18022680, 18022740, 18022800, 18022860, 18022920, 18022980, 18023040, 18023100, 18023160, 18023220, 18023280, 18023340, 18023400, 18023460, 18023520, 18023580, 18023640, 18023700, 18023760, 18023820, 18023880, 18023940, 18024000, 18024060, 18024120, 18024180, 18024240, 18024300, 18024360, 18024420, 18024480, 18024540, 18024600, 18024660, 18024720, 18024780, 18024840, 18024900, 18024960, 18025020, 18025080, 18025140, 18025200, 18025260, 18025320, 18025380, 18025440, 18025500, 18025560, 18025620, 18025680, 18025740, 18025800, 18025860, 18025920, 18025980, 18026040, 18026100, 18026160, 18026220, 18026280, 18026340, 18026400, 18026460, 18026520, 18026580, 18026640, 18026700, 18026760, 18026820, 18026880, 18026940, 18027000, 18027060, 18027120, 18027180, 18027240, 18027300, 18027360, 18027420, 18027480, 18027540, 18027600, 18027660, 18027720, 18027780, 18027840, 18027900, 18027960, 18028020, 18028080, 18028140, 18028200, 18028260, 18028320, 18028380, 18028440, 18028500, 18028560, 18028620, 18028680, 18028740, 18028800, 18028860, 18028920, 18028980, 18029040, 18029100, 18029160, 18029220, 18029280, 18029340, 18029400, 18029460, 18029520, 18029580, 18029640, 18029700, 18029760, 18029820, 18029880, 18029940, 18030000, 18030060, 18030120, 18030180, 18030240, 18030300, 18030360, 18030420, 18030480, 18030540, 18030600, 18030660, 18030720, 18030780, 18030840, 18030900, 18030960, 18031020, 18031080, 18031140, 18031200, 18031260, 18031320, 18031380, 18031440, 18031500, 18031560, 18031620, 18031680, 18031740, 18031800, 18031860, 18031920, 18031980, 18032040, 18032100, 18032160, 18032220, 18032280, 18032340, 18032400, 18032460, 18032520, 18032580, 18032640, 18032700, 18032760, 18032820, 18032880, 18032940, 18033000, 18033060, 18033120, 18033180, 18033240, 18033300, 18033360, 18033420, 18033480, 18033540, 18033600, 18033660, 18033720, 18033780, 18033840, 18033900, 18033960, 18034020, 18034080, 18034140, 18034200, 18034260, 18034320, 18034380, 18034440, 18034500, 18034560, 18034620, 18034680, 18034740, 18034800, 18034860, 18034920, 18034980, 18035040, 18035100, 18035160, 18035220, 18035280, 18035340, 18035400, 18035460, 18035520, 18035580, 18035640, 18035700, 18035760, 18035820, 18035880, 18035940, 18036000, 18036060, 18036120, 18036180, 18036240, 18036300, 18036360, 18036420, 18036480, 18036540, 18036600, 18036660, 18036720, 18036780, 18036840, 18036900, 18036960, 18037020, 18037080, 18037140, 18037200, 18037260, 18037320, 18037380, 18037440, 18037500, 18037560, 18037620, 18037680, 18037740, 18037800, 18037860, 18037920, 18037980, 18038040, 18038100, 18038160, 18038220, 18038280, 18038340, 18038400, 18038460, 18038520, 18038580, 18038640, 18038700, 18038760, 18038820, 18038880, 18038940, 18039000, 18039060, 18039120, 18039180, 18039240, 18039300, 18039360, 18039420, 18039480, 18039540, 18039600, 18039660, 18039720, 18039780, 18039840, 18039900, 18039960, 18040020, 18040080, 18040140, 18040200, 18040260, 18040320, 18040380, 18040440, 18040500, 18040560, 18040620, 18040680, 18040740, 18040800, 18040860, 18040920, 18040980, 18041040, 18041100, 18041160, 18041220, 18041280, 18041340, 18041400, 18041460, 18041520, 18041580, 18041640, 18041700, 18041760, 18041820]


plt.plot(i, t)
plt.plot(i, c)
plt.title('ETH Price: Tricrytpo vs. Chainlink')
plt.xlabel('block')
plt.ylabel('p')
plt.legend()
plt.grid(True)
plt.show()

print("---")
print(p_eth_usdc)
print("---")
print(p_eth_chainlink)
print("---")
print(blocks)